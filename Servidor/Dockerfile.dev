
# Dockerfile para DESARROLLO (hot reload) del Servidor
FROM node:22-alpine

WORKDIR /app

# Copia los archivos de configuración de dependencias desde la carpeta Servidor
COPY Servidor/package*.json ./
RUN npm install

# Copia todo el código fuente del servidor
COPY Servidor/ .

# Instala nodemon globalmente para hot reload
RUN npm install -g nodemon

EXPOSE 3000

# El comando 'dev' típicamente usa nodemon. --legacy-watch es bueno para Docker.
CMD ["npm", "run", "dev"]